@model ERP.Core.Models.HR.HrEmployee
@{
    Layout = null;
}
<style>
    .move {
        overflow-x: scroll;
    }
</style>
<script>

    $(document).ready(function () {
        $("#expand").click(function () {
            $(".history-data").toggle();
        });
    });

</script>
<div class="modal-dialog modal-dialog-centered " style="width:95% !important;max-width: 10000px !important;" role="dialog">
    <div class="modal-content ">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">History</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            @Html.Hidden("empid", "", new { id = "empid", Value = ViewBag.ID })
            <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#" data-target="#m_tabs_4_1">Attendance</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link" data-toggle="tab" href="#m_tabs_4_2">Achievements</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#m_tabs_4_3">Loan Ledger</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#m_tabs_4_4">Critical Incidents</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#m_tabs_4_5">NCR</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#m_tabs_4_6">Efficiency</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#m_tabs_4_7">Short Leaves</a>
                </li>
            </ul>

            <div class="tab-content">
                @*tab number 3_1 ( Attendance )*@
                <div class="tab-pane active" id="m_tabs_4_1" role="tabpanel">
                    <div class="move">

                        <table class="table table-striped- table-bordered table-hover table-checkable " id="">
                            <thead style="background-color:#28469c; color:#ffffff">
                                <tr role="row">
                                    <th>Month</th>
                                    <th>Work Days</th>
                                    <th>PR</th>
                                    <th>WOP</th>
                                    <th>Leaves</th>
                                    <th>Visits</th>
                                    <th>1</th>
                                    <th>2</th>
                                    <th>3</th>
                                    <th>4</th>
                                    <th>5</th>
                                    <th>6</th>
                                    <th>7</th>
                                    <th>8</th>
                                    <th>9</th>
                                    <th>10</th>
                                    <th>11</th>
                                    <th>12</th>
                                    <th>13</th>
                                    <th>14</th>
                                    <th>15</th>
                                    <th>16</th>
                                    <th>17</th>
                                    <th>18</th>
                                    <th>19</th>
                                    <th>20</th>
                                    <th>21</th>
                                    <th>22</th>
                                    <th>23</th>
                                    <th>24</th>
                                    <th>25</th>
                                    <th>26</th>
                                    <th>27</th>
                                    <th>28</th>
                                    <th>29</th>
                                    <th>30</th>
                                    <th>31</th>
                                </tr>
                            </thead>

                            <tbody>
                                @foreach (var item in Model.HR_MonthlyAttendance)
                                {
                                    <tr>
                                        <td>@item.Forthemonth</td>
                                        <td>@item.TotalMonthDays</td>
                                        <td>@item.TotalWorkingDays</td>
                                        <td>@item.WithOutPay</td>
                                        <td>@item.Leaves</td>
                                        <td>@item.Visits</td>
                                        <td>@item.Day01</td>
                                        <td>@item.Day02</td>
                                        <td>@item.Day03</td>
                                        <td>@item.Day04</td>
                                        <td>@item.Day05</td>
                                        <td>@item.Day06</td>
                                        <td>@item.Day07</td>
                                        <td>@item.Day08</td>
                                        <td>@item.Day09</td>
                                        <td>@item.Day10</td>
                                        <td>@item.Day11</td>
                                        <td>@item.Day12</td>
                                        <td>@item.Day13</td>
                                        <td>@item.Day14</td>
                                        <td>@item.Day15</td>
                                        <td>@item.Day16</td>
                                        <td>@item.Day17</td>
                                        <td>@item.Day18</td>
                                        <td>@item.Day19</td>
                                        <td>@item.Day20</td>
                                        <td>@item.Day21</td>
                                        <td>@item.Day22</td>
                                        <td>@item.Day23</td>
                                        <td>@item.Day24</td>
                                        <td>@item.Day25</td>
                                        <td>@item.Day26</td>
                                        <td>@item.Day27</td>
                                        <td>@item.Day28</td>
                                        <td>@item.Day29</td>
                                        <td>@item.Day30</td>
                                        <td>@item.Day31</td>
                                    </tr>
                                }
                            </tbody>
                        </table>

                    </div>
                </div>
                @*tab number 3_2 ( Achievements )*@
                <div class="tab-pane" id="m_tabs_4_2" role="tabpanel">

                    <table class="table table-striped- table-bordered table-hover table-checkable " id="">
                        <thead style="background-color:#28469c; color:#ffffff">
                            <tr role="row">
                                <th>Dated</th>
                                <th>Type</th>
                                <th>Old Salary</th>
                                <th>New Salary</th>
                                <th>Company</th>
                                <th>Department</th>
                                <th>Designation</th>
                                <th>New Company</th>
                            </tr>
                        </thead>

                        <tbody>
                            @foreach (var item in Model.HR_History)
                            {
                                <tr>
                                    <td>@item.Dated</td>
                                    <td>@item.PromotionType</td>
                                    <td>@item.psCurrent</td>
                                    <td>@item.nsCurrent</td>
                                    <td>@item.Company</td>
                                    <td>@item.NewDepartment</td>
                                    <td>@item.NewDesignation</td>
                                    <td>@item.NewCompany</td>
                                </tr>
                            }

                        </tbody>
                    </table>

                </div>
                @*tab number 3_3 ( Loan Ledger )*@
                <div class="tab-pane" id="m_tabs_4_3" role="tabpanel">

                    <table class="table table-striped- table-bordered table-hover table-checkable " id="">
                        <thead style="background-color:#28469c; color:#ffffff">
                            <tr role="row">
                                <th>Dated</th>
                                <th>Deduction</th>
                                <th>Amount</th>
                                <th>Balance</th>
                                <th>Salary Slip</th>
                                <th>Bonus ID</th>
                                <th>Remarks</th>
                            </tr>
                        </thead>

                        <tbody>
                            @foreach (var item in Model.HR_LoanAdvance)
                            {
                                <tr>
                                    <td>@item.TransectionDate</td>
                                    <td>@item.IsDeduction</td>
                                    <td>@item.Amount</td>
                                    <td>@item.LoanAdvLedID</td>
                                    <td>@item.SalarySlipNo</td>
                                    <td>@item.BonusMasterID</td>
                                    <td>@item.Remarks</td>
                                </tr>
                            }

                        </tbody>
                    </table>

                </div>
                @*tab number 3_4 ( Critical Incidents )*@
                <div class="tab-pane" id="m_tabs_4_4" role="tabpanel">

                    <table class="table table-striped- table-bordered table-hover table-checkable " id="">
                        <thead style="background-color:#28469c; color:#ffffff">
                            <tr role="row">
                                <th>Dated</th>
                                <th>Reported By</th>
                                <th>In Favour</th>
                                <th>Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            @foreach (var item in Model.HR_CINCR.Where(x => x.TypeOfIncident == "CI"))
                            {
                                <tr>
                                    <td>@item.ReportedDate</td>
                                    <td>@item.ReportedBy</td>
                                    <td>@item.HrEmployee.FirstName</td>
                                    <td>@item.Incident</td>
                                </tr>
                            }

                        </tbody>
                    </table>

                </div>
                @*tab number 3_5 ( NCR )*@
                <div class="tab-pane" id="m_tabs_4_5" role="tabpanel">

                    <table class="table table-striped- table-bordered table-hover table-checkable " id="">
                        <thead style="background-color:#28469c; color:#ffffff">
                            <tr role="row">
                                <th>Dated</th>
                                <th>Reported By</th>
                                <th>In Favour</th>
                                <th>Description</th>
                            </tr>
                        </thead>

                        <tbody>
                            @foreach (var item in Model.HR_CINCR.Where(x => x.TypeOfIncident == "NC"))
                            {
                                <tr>
                                    <td>@item.ReportedDate</td>
                                    <td>@item.ReportedBy</td>
                                    <td>@item.HrEmployee.FirstName</td>
                                    <td>@item.Incident</td>
                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
                @*tab number 3_6 ( Efficiency )*@
                <div class="tab-pane" id="m_tabs_4_6" role="tabpanel">

                    <table class="table table-striped- table-bordered table-hover table-checkable " id="">
                        <thead style="background-color:#28469c; color:#ffffff">
                            <tr role="row">
                                <th>Dated</th>
                                <th>Time In</th>
                                <th>Time Out</th>
                                <th>Hours</th>
                                <th>Minutes</th>
                                <th>Late</th>
                            </tr>
                        </thead>

                        <tbody>
                            @foreach (var item in Model.HR_AttendanceTimings)
                            {
                                <tr>
                                    <td>@item.AttendanceDate</td>
                                    <td>@item.TimeCheckin</td>
                                    <td>@item.TimeCheckout</td>
                                    <td>@item.Hours</td>
                                    <td>@item.Minutes</td>
                                    <td>@item.IsLate</td>
                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
                @*tab number 3_7 ( Short Leaves )*@
                <div class="tab-pane" id="m_tabs_4_7" role="tabpanel">

                    <table class="table table-striped- table-bordered table-hover table-checkable " id="">
                        <thead style="background-color:#28469c; color:#ffffff">
                            <tr role="row">
                                <th>Dated</th>
                                <th>Time In</th>
                                <th>Time Out</th>
                                <th>Hours</th>
                                <th>Minutes</th>
                                <th>Late</th>
                            </tr>
                        </thead>

                        <tbody>
                            @foreach (var item in Model.HR_ShortLeaves)
                            {
                                <tr>
                                    <td>@item.AttendanceDate</td>
                                    <td>@item.TimeCheckin</td>
                                    <td>@item.TimeCheckout</td>
                                    <td>@item.Hours</td>
                                    <td>@item.Minutes</td>
                                    <td>@item.Remarks</td>
                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
            </div>

        </div>
    </div>
</div>
<script src="~/Content/VigorJs/HR/History/Index.js"></script>